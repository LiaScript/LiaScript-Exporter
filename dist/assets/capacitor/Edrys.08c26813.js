var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire55a5;e.register("dbxf0",(function(n,s){var t,o,d,i;t=n.exports,o="Sync",d=()=>r,Object.defineProperty(t,o,{get:d,set:i,enumerable:!0,configurable:!0});var c=e("gehsO"),a=e("i4Alq");class r extends c.Sync{subject="liasync";connected=!1;async connect(e){super.connect(e),this.init(!0)}destroy(){super.destroy()}init(e,n){if(e){this.subject=this.room||"liasync";let e=this;window.addEventListener("message",(function(n){try{let s=n.data;if("init"===s.subject)s.body&&(e.connected=!0,e.sendConnect());else s.body=JSON.parse(s.body),s.body.message.param.id!==e.token&&s.body&&e.applyUpdate((0,a.decode)(s.body))}catch(e){console.warn("Edrys",e.message)}})),window.parent.postMessage({subject:"init",body:""},"*"),setTimeout((function(){e.connected||e.sendDisconnectError("This seems not to be an Edrys classroom")}),2e3)}}broadcast(e){window.parent.postMessage({subject:this.subject,body:e?(0,a.encode)(e):null},"*")}}}));