!function(){function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire55a5;e.register("lPkjI",(function(n,r){t(n.exports,"Sync",(function(){return v}));var o=e("aPYZr"),i=e("3mpD3"),u=e("4JAgF"),s=e("9HoHC"),l=e("8WkQI"),a=e("aPvD2"),c=e("aBvOn"),d=e("gNsil"),p=e("dVhHy"),f=e("8rJSp"),h=e("cDTRq"),y=e("bhxid"),g=e("9EHof"),v=function(t){"use strict";(0,d.default)(n,t);var e=(0,f.default)(n);function n(){var t;return(0,u.default)(this,n),t=e.apply(this,arguments),(0,l.default)((0,o.default)(t),"store",""),(0,l.default)((0,o.default)(t),"gunServer",[]),t}return(0,s.default)(n,[{key:"destroy",value:function(){this.gunServer=[],delete this.gun,(0,a.default)((0,c.default)(n.prototype),"destroy",this).call(this)}},{key:"connect",value:function(t){var e=this,r=this;return(0,i.default)((function(){return(0,h.__generator)(this,(function(o){return(0,a.default)((0,c.default)(n.prototype),"connect",e).call(r,t),r.gunServer=t.config,window.Gun?r.init(!0):r.load(["https://cdn.jsdelivr.net/npm/gun/gun.js",g.Crypto.url],r),[2]}))}))()}},{key:"init",value:function(t,e){if(0==this.gunServer.length)return this.sendDisconnectError("You have to provide at least one relay server.");var n=this.uniqueID();if(t&&window.Gun&&n){this.gun=window.Gun({peers:this.gunServer}),this.store=btoa(n),g.Crypto.init(this.password);var r=this;this.gun.get(this.store).on((function(t,e){try{var n=(0,p.default)(g.Crypto.decode(t.msg),2),o=n[0],i=n[1];o!=r.token&&null!=i&&r.applyUpdate(y.base64_to_unit8(i))}catch(t){console.warn("GunDB",t.message)}})),this.broadcast(null),this.sendConnect()}else console.warn("Could not load resource:",e)}},{key:"broadcast",value:function(t){if(this.gun){var e=null==t?null:y.uint8_to_base64(t);this.gun.get(this.store).put({msg:g.Crypto.encode([this.token,e])})}}}]),n}(y.Sync)})),e.register("9EHof",(function(e,n){t(e.exports,"Crypto",(function(){return r}));var r={url:"https://cdn.jsdelivr.net/npm/simple-crypto-js@2.5.0/dist/SimpleCrypto.min.js",crypt:null,check:function(){return!!window.SimpleCrypto},init:function(t){try{"string"==typeof t&&t.length>0?this.crypt=new SimpleCrypto(t):this.crypt=null}catch(t){console.warn("cypher: ",t),this.crypt=null}},encode:function(t){return this.cypher?this.cypher.encrypt(btoa(encodeURIComponent(JSON.stringify(t)))):JSON.stringify(t)},decode:function(t){return this.cypher?JSON.parse(decodeURIComponent(atob(this.cypher.decrypt(t)))):JSON.parse(t)}}}))}();