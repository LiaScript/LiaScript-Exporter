function t(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire55a5;e.register("ajKoV",(function(i,s){t(i.exports,"Connector",(()=>a));var r=e("e32Bb");const n={SingleChoice:"sc",MultipleChoice:"mc",Text:"tx",Select:"st",Matrix:"mx",Generic:"gn",error_msg:"err"},o=Object.entries(n).reduce(((t,[e,i])=>(t[i]=e,t)),{});function c(t,e){if("object"!=typeof t||null===t)return t;if(Array.isArray(t))return t.map((t=>c(t,e)));const i={};for(const[s,r]of Object.entries(t)){i[e[s]||s]=c(r,e)}return i}class a extends r.Connector{init(){if(this.scorm){l("Initialize ",this.scorm.Initialize(""));let t=this.scorm.GetValue("cmi.mode");if(this.active="normal"===t,console.warn("SCORM2004: Running in",t,"mode, results will ",this.active?"":"NOT","be stored!"),this.scaled_passing_score=JSON.parse(this.scorm.GetValue("cmi.scaled_passing_score")),l("open location ..."),this.location=function(t){try{return JSON.parse(t)}catch(t){}return null}(this.scorm.GetValue("cmi.location")),l("... ",this.location),null===this.location){this.slide(0);let t=0;t=this.initFirst("quiz",t),t=this.initFirst("survey",t),t=this.initFirst("task",t)}else{let t=0;t=this.initSecond("quiz",t),t=this.initSecond("survey",t),t=this.initSecond("task",t)}window.SCORE=0,this.score()}}initFirst(t,e){for(let i=0;i<this.db[t].length;i++){this.id[t].push([]);for(let s=0;s<this.db[t][i].length;s++)this.setInteraction(e,`${t}:${i}-${s}`),this.id[t][i].push(e),e++}return e}initSecond(t,e){for(let i=0;i<this.db[t].length;i++){this.id[t].push([]);for(let s=0;s<this.db[t][i].length;s++){let r=this.getInteraction(e);r&&(this.db[t][i][s]=r),this.id[t][i].push(e),e++}}return e}open(t,e,i){null!==this.location&&window.LIA.goto(this.location)}load(t){if(this.active)switch(t.table){case"quiz":case"survey":case"task":return l("loading ",t.table,t.id,this.db.task[t.id]),this.db[t.table][t.id]}}store(t){if(this.active)switch(t.table){case"quiz":this.storeHelper(t),this.score();break;case"survey":case"task":this.storeHelper(t)}}storeHelper(t){for(let s=0;s<this.db[t.table][t.id].length;s++)e=t.data[s],i=this.db[t.table][t.id][s],JSON.stringify(e)!=JSON.stringify(i)&&(this.updateInteraction(this.id[t.table][t.id][s],t.data[s]),this.db[t.table][t.id][s]=t.data[s],"quiz"==t.table&&this.updateQuiz(this.id[t.table][t.id][s],t.data[s]));var e,i}score(){if(!this.active||!this.scaled_passing_score)return;let t=0,e=0,i=0,s=0;for(let r=0;r<this.db.quiz.length;r++)for(let n=0;n<this.db.quiz[r].length;n++)switch(s=this.db.quiz[r][n].score,t+=s,this.db.quiz[r][n].solved){case 1:e+=s;case-1:i+=s}const r=0===e?0:e/t;this.write("cmi.score.min","0"),this.write("cmi.score.max",JSON.stringify(t)),this.write("cmi.score.scaled",JSON.stringify(r)),this.write("cmi.score.raw",JSON.stringify(e)),r>=this.scaled_passing_score?(this.write("cmi.success_status","passed"),this.write("cmi.completion_status","completed")):i+e===t&&(this.write("cmi.success_status","failed"),this.write("cmi.completion_status","completed")),window.SCORE=r}write(t,e){if(this.scorm){if(l("write: ",t,e),"false"===this.scorm.SetValue(t,e)){console.warn("error occurred for",t,e);let i=this.scorm.GetLastError();console.warn("GetLastError:",i),i?(console.warn("GetErrorString:",this.scorm.GetErrorString(i)),console.warn("GetDiagnostic:",this.scorm.GetDiagnostic(i))):console.warn("GetDiagnostic:",this.scorm.GetDiagnostic(""))}this.scorm.Commit("")}}slide(t){this.location=t,this.write("cmi.location",JSON.stringify(t))}setInteraction(t,e){this.write(`cmi.interactions.${t}.id`,e),this.write(`cmi.interactions.${t}.type`,"long-fill-in")}updateQuiz(t,e){if(this.active)switch(e.solved){case 0:e.trial>0&&this.write(`cmi.interactions.${t}.result`,"incorrect");break;case 1:this.write(`cmi.interactions.${t}.result`,"correct");break;case-1:this.write(`cmi.interactions.${t}.result`,"neutral")}}updateInteraction(t,e){var i;this.write(`cmi.interactions.${t}.learner_response`,(i=e,JSON.stringify(c(i,n))))}getInteraction(t){if(!this.active)return null;try{if(this.scorm)return e=this.scorm.GetValue(`cmi.interactions.${t}.learner_response`),c(JSON.parse(e),o)}catch(t){console.warn("SCORM2004: getInteraction => ",t)}var e;return null}constructor(){var t;if(super(),this.active=!1,this.scaled_passing_score=null,this.db={quiz:[],survey:[],task:[]},this.id={quiz:[],survey:[],task:[]},window.API_1484_11||(null===(t=window.top)||void 0===t?void 0:t.API_1484_11)){var e;l("successfully opened API"),this.scorm=window.API_1484_11||(null===(e=window.top)||void 0===e?void 0:e.API_1484_11),l("loading quizzes ...");try{this.db.quiz=window.config_.quiz||[[]],l(" ... done")}catch(t){h("... failed",t)}l("loading surveys ...");try{this.db.survey=window.config_.survey||[[]],l(" ... done")}catch(t){h("... failed",t)}l("loading tasks ...");try{this.db.task=window.config_.task||[[]],l(" ... done")}catch(t){h("... failed",t)}this.init()}else console.warn("SCORM2004: Could not find API")}}function l(...t){console.log("SCORM2004: ",...t)}function h(...t){console.log("SCORM2004: ",...t)}})),e.register("e32Bb",(function(i,s){t(i.exports,"Connector",(()=>o));var r=e("4ssuu"),n=e("XOp0e");class o{hasIndex(){return!1}storage(){return new r.LiaStorage}initSettings(t,e=!1){return n.Settings.init(t,e)}setSettings(t){try{localStorage.setItem(n.Settings.PORT,JSON.stringify(t))}catch(t){console.warn("cannot write to localStorage")}}getSettings(){let t="";try{t=localStorage.getItem(n.Settings.PORT)}catch(t){console.warn("cannot write to localStorage")}let e=null;if("string"==typeof t){try{e=JSON.parse(t)}catch(t){console.warn("getSettings =>",t)}e||(e=n.Settings.default),window.innerWidth<=768&&(e.table_of_contents=!1)}return e}open(t,e,i){}load(t){}store(t){}update(t,e){}slide(t){}getIndex(){}deleteFromIndex(t){}storeToIndex(t){}restoreFromIndex(t,e){}reset(t,e){this.initSettings(null,!0)}async getFromIndex(t){return null}constructor(){}}})),e.register("4ssuu",(function(e,i){t(e.exports,"LiaStorage",(()=>s));class s{getItems(t=[]){"string"==typeof t&&(t=[t]);let e={};for(let i=0;i<t.length;i++){let s=localStorage.getItem(t[i]);e[t[i]]=s?JSON.parse(s):s}return e}setItems(t){this._setLocal(t)}_setLocal(t){if("object"==typeof t)for(const[e,i]of Object.entries(t))localStorage.setItem(e,JSON.stringify(i))}constructor(){}}}));