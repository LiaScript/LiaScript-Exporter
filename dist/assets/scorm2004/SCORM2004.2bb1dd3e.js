function t(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire55a5;e.register("ajKoV",(function(i,s){t(i.exports,"Connector",(()=>o));var r=e("e32Bb"),n=e("eHia3");class o extends r.Connector{init(){if(!this.scorm)return;a("Initialize ",this.scorm.Initialize(""));let t=this.scorm.GetValue("cmi.mode");if(this.active="normal"===t,this.active=!0,this.scaled_passing_score=JSON.parse(this.scorm.GetValue("cmi.scaled_passing_score")),a("open location ..."),this.location=function(t){try{return JSON.parse(t)}catch(t){}return null}(this.scorm.GetValue("cmi.location")),a("... ",this.location),null===this.location){this.slide(0);let t=0;t=this.initFirst("quiz",t),t=this.initFirst("survey",t),t=this.initFirst("task",t)}else{let t=0;t=this.initSecond("quiz",t),t=this.initSecond("survey",t),t=this.initSecond("task",t)}}initFirst(t,e){for(let i=0;i<this.db[t].length;i++){this.id[t].push([]);for(let s=0;s<this.db[t][i].length;s++)this.setInteraction(e,`${t}:${i}-${s}`),this.id[t][i].push(e),e++}return e}initSecond(t,e){for(let i=0;i<this.db[t].length;i++){this.id[t].push([]);for(let s=0;s<this.db[t][i].length;s++){let r=this.getInteraction(e);r&&(this.db[t][i][s]=r[2]),this.id[t][i].push(e),e++}}return e}open(t,e,i){null!==this.location&&window.LIA.goto(this.location)}load(t){if(this.active)switch(t.table){case"quiz":case"survey":case"task":return a("loading ",t.table,t.id,this.db.task[t.id]),this.db[t.table][t.id]}}store(t){if(this.active)switch(t.table){case"quiz":this.storeHelper(t),this.score();break;case"survey":case"task":this.storeHelper(t)}}storeHelper(t){for(let s=0;s<this.db[t.table][t.id].length;s++)e=t.data[s],i=this.db[t.table][t.id][s],JSON.stringify(e)!=JSON.stringify(i)&&(this.updateInteraction(this.id[t.table][t.id][s],t.data[s]),"quiz"==t.table&&this.updateQuiz(this.id[t.table][t.id][s],t.data[s]));var e,i}score(){if(!this.active||!this.scaled_passing_score)return;let t=this.db.quiz.reduce(((t,e)=>t+e.length),0),e=this.db.quiz.map((t=>t.filter((t=>!0===t)))).reduce(((t,e)=>t+e.length),0),i=this.db.quiz.map((t=>t.filter((t=>null!=t)))).reduce(((t,e)=>t+e.length),0),s=0===e?0:e/t;this.write("cmi.score.min","0"),this.write("cmi.score.max",JSON.stringify(t)),this.write("cmi.score.raw",JSON.stringify(e)),s>=this.scaled_passing_score?this.write("cmi.success_status","passed"):i===e&&this.write("cmi.success_status","failed")}write(t,e){if(this.scorm){if(a("write: ",t,e),"false"===this.scorm.SetValue(t,e)){console.warn("error occurred for ",t,e);let i=this.scorm.GetLastError();console.warn("GetLastError:",i),i?(console.warn("GetErrorString:",this.scorm.GetErrorString(i)),console.warn("GetDiagnostic:",this.scorm.GetDiagnostic(i))):console.warn("GetDiagnostic:",this.scorm.GetDiagnostic(""))}this.scorm.Commit("")}}slide(t){this.location=t,this.write("cmi.location",JSON.stringify(t))}setInteraction(t,e){this.write(`cmi.interactions.${t}.id`,e),this.write(`cmi.interactions.${t}.type`,"long-fill-in")}updateQuiz(t,e){if(this.active)switch(e.solved){case 0:e.trial>0&&this.write(`cmi.interactions.${t}.result`,"incorrect");break;case 1:this.write(`cmi.interactions.${t}.result`,"correct");break;case-1:this.write(`cmi.interactions.${t}.result`,"neutral")}}updateInteraction(t,e){this.write(`cmi.interactions.${t}.learner_response`,JSON.stringify(e))}getInteraction(t){if(!this.active)return null;try{return JSON.parse(this.scorm.GetValue(`cmi.interactions.${t}.learner_response`))}catch(t){console.warn("SCORM: getInteraction => ",t)}return null}constructor(){if(super(),this.active=!1,this.scaled_passing_score=null,this.db={quiz:[],survey:[],task:[]},this.id={quiz:[],survey:[],task:[]},window.API_1484_11||window.top.API_1484_11){a("successfully opened API"),this.scorm=window.API_1484_11||window.top.API_1484_11,a("loading quizzes ...");try{this.db.quiz=window.config_.quiz||[[]],a(" ... done")}catch(t){c("... failed",t)}a("loading surveys ...");try{this.db.survey=window.config_.survey||[[]],a(" ... done")}catch(t){c("... failed",t)}a("loading tasks ...");try{this.db.task=window.config_.task||[[]],a(" ... done")}catch(t){c("... failed",t)}this.init()}}}function a(...t){n.default.info("SCORM2004: "+t)}function c(...t){n.default.warn("SCORM2004: "+t)}})),e.register("e32Bb",(function(i,s){t(i.exports,"Connector",(()=>o));var r=e("4ssuu"),n=e("XOp0e");class o{hasIndex(){return!1}storage(){return new r.LiaStorage}initSettings(t,e=!1){return n.Settings.init(t,e)}setSettings(t){try{localStorage.setItem(n.Settings.PORT,JSON.stringify(t))}catch(t){console.warn("cannot write to localStorage")}}getSettings(){let t="";try{t=localStorage.getItem(n.Settings.PORT)}catch(t){console.warn("cannot write to localStorage")}let e=null;if("string"==typeof t){try{e=JSON.parse(t)}catch(t){console.warn("getSettings =>",t)}e||(e=n.Settings.default),window.innerWidth<=768&&(e.table_of_contents=!1)}return e}open(t,e,i){}load(t){}store(t){}update(t,e){}slide(t){}getIndex(){}deleteFromIndex(t){}storeToIndex(t){}restoreFromIndex(t,e){}reset(t,e){this.initSettings(null,!0)}async getFromIndex(t){return null}constructor(){}}})),e.register("4ssuu",(function(e,i){t(e.exports,"LiaStorage",(()=>s));class s{getItems(t=[]){"string"==typeof t&&(t=[t]);let e={};for(let i=0;i<t.length;i++){let s=localStorage.getItem(t[i]);e[t[i]]=s?JSON.parse(s):s}return e}setItems(t){this._setLocal(t)}_setLocal(t){if("object"==typeof t)for(const[e,i]of Object.entries(t))localStorage.setItem(e,JSON.stringify(i))}constructor(){}}}));