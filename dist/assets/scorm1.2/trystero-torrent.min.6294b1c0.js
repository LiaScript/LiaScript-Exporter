!function(){var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire55a5;e.register("E0fFs",(function(n,r){var t,a,u,o;t=n.exports,a="joinRoom",u=function(){return Ue},Object.defineProperty(t,a,{get:u,set:o,enumerable:!0,configurable:!0});var c,i,s,l,f,d,p,v,y,h,m,g,b,w,_,k,P,T,A,S,E,L,D=e("hnmIs"),I=e("bgoEC"),C=e("7j4mF"),U=e("5ENmm"),j=e("6Wo7Q"),O=e("rJmE6"),R=e("32Euv"),H=Math.floor,J=Math.random,M="Trystero",x=function(e,n){return Array(e).fill().map(n)},q=function(e){return x(e,(function(){return"0123456789AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz"[H(62*J())]})).join("")},B=q(20),N=Promise.all.bind(Promise),F="undefined"!=typeof window,G=Object.entries,W=Object.fromEntries,z=Object.keys,K=function(){},Q=function(e){return Error("".concat(M,": ").concat(e))},V=new TextEncoder,$=new TextDecoder,X=function(e){return V.encode(e)},Y=function(e){return $.decode(e)},Z=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.join("@")},ee=JSON.stringify,ne=JSON.parse,re={},te=null,ae=null,ue=function(){te||(te=new Promise((function(e){ae=e})).finally((function(){ae=null,te=null})))},oe=function(){return null==ae?void 0:ae()},ce="AES-GCM",ie={},se=(E=(0,D.default)((function(e){var n,r;return(0,R.__generator)(this,(function(t){switch(t.label){case 0:return(n=(c=ie)[i=e])?[3,2]:(r=Array.from,[4,function(){var e=(0,D.default)((function(e,n){var r;return(0,R.__generator)(this,(function(t){switch(t.label){case 0:return r=Uint8Array.bind,[4,crypto.subtle.digest(e,X(n))];case 1:return[2,new(r.apply(Uint8Array,[void 0,t.sent()]))]}}))}));return function(n,r){return e.apply(this,arguments)}}()("SHA-1",e)]);case 1:n=c[i]=r.apply(Array,[t.sent()]).map((function(e){return e.toString(36)})).join(""),t.label=2;case 2:return[2,n]}}))})),function(e){return E.apply(this,arguments)}),le=function(){var e=(0,D.default)((function(e,n){var r,t,a,u,o,c;return(0,R.__generator)(this,(function(i){switch(i.label){case 0:return r=crypto.getRandomValues(new Uint8Array(16)),a=r.join(",")+"$",o=(u=crypto.subtle).encrypt,c=[{name:ce,iv:r}],[4,e];case 1:return[4,o.apply(u,c.concat([i.sent(),X(n)]))];case 2:return[2,a+(t=i.sent(),btoa(String.fromCharCode.apply(null,new Uint8Array(t))))]}}))}));return function(n,r){return e.apply(this,arguments)}}(),fe=function(){var e=(0,D.default)((function(e,n){var r,t,a,u,o,c;return(0,R.__generator)(this,(function(i){switch(i.label){case 0:return r=(0,U.default)(n.split("$"),2),t=r[0],a=r[1],o=(u=crypto.subtle).decrypt,c=[{name:ce,iv:new Uint8Array(t.split(","))}],[4,e];case 1:return[4,o.apply(u,c.concat([i.sent(),function(e){var n=atob(e);return new Uint8Array(n.length).map((function(e,r){return n.charCodeAt(r)})).buffer}(a)]))];case 2:return[2,Y.apply(void 0,[i.sent()])]}}))}));return function(n,r){return e.apply(this,arguments)}}(),de="icegatheringstatechange",pe="offer",ve=function(e,n){var r=n.rtcConfig,t=n.rtcPolyfill,a=n.turnConfig,u=new(t||RTCPeerConnection)((0,I.default)({iceServers:ye.concat(a||[])},r)),o={},c=!1,i=!1,s=null,l=function(e){e.binaryType="arraybuffer",e.bufferedAmountLowThreshold=65535,e.onmessage=function(e){var n;return null===(n=o.data)||void 0===n?void 0:n.call(o,e.data)},e.onopen=function(){var e;return null===(e=o.connect)||void 0===e?void 0:e.call(o)},e.onclose=function(){var e;return null===(e=o.close)||void 0===e?void 0:e.call(o)},e.onerror=function(e){var n;return null===(n=o.error)||void 0===n?void 0:n.call(o,e)}},f=function(e){return Promise.race([new Promise((function(n){var r=function(){"complete"===e.iceGatheringState&&(e.removeEventListener(de,r),n())};e.addEventListener(de,r),r()})),new Promise((function(e){return setTimeout(e,5e3)}))]).then((function(){return{type:e.localDescription.type,sdp:e.localDescription.sdp.replace(/a=ice-options:trickle\s\n/g,"")}}))};return e?(s=u.createDataChannel("data"),l(s)):u.ondatachannel=function(e){var n=e.channel;s=n,l(n)},u.onnegotiationneeded=(0,D.default)((function(){var e,n,r,t;return(0,R.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),c=!0,[4,u.setLocalDescription()];case 1:return a.sent(),[4,f(u)];case 2:return n=a.sent(),null===(e=o.signal)||void 0===e||e.call(o,n),[3,5];case 3:return r=a.sent(),null===(t=o.error)||void 0===t||t.call(o,r),[3,5];case 4:return c=!1,[7];case 5:return[2]}}))})),u.onconnectionstatechange=function(){var e;["disconnected","failed","closed"].includes(u.connectionState)&&(null===(e=o.close)||void 0===e||e.call(o))},u.ontrack=function(e){var n,r;null===(n=o.track)||void 0===n||n.call(o,e.track,e.streams[0]),null===(r=o.stream)||void 0===r||r.call(o,e.streams[0])},u.onremovestream=function(e){var n;return null===(n=o.stream)||void 0===n?void 0:n.call(o,e.stream)},e&&(u.canTrickleIceCandidates||u.onnegotiationneeded()),{created:Date.now(),connection:u,get channel(){return s},get isDead(){return"closed"===u.connectionState},signal:function(n){return(0,D.default)((function(){var r,t,a,l,d;return(0,R.__generator)(this,(function(p){switch(p.label){case 0:if("open"===(null==s?void 0:s.readyState)&&!(null===(r=n.sdp)||void 0===r?void 0:r.includes("a=rtpmap")))return[3,14];p.label=1;case 1:return p.trys.push([1,13,,14]),n.type!==pe?[3,8]:c||"stable"!==u.signalingState&&!i?e?[2]:[4,N([u.setLocalDescription({type:"rollback"}),u.setRemoteDescription(n)])]:[3,3];case 2:return p.sent(),[3,5];case 3:return[4,u.setRemoteDescription(n)];case 4:p.sent(),p.label=5;case 5:return[4,u.setLocalDescription()];case 6:return p.sent(),[4,f(u)];case 7:return a=p.sent(),[2,(null===(t=o.signal)||void 0===t||t.call(o,a),a)];case 8:if("answer"!==n.type)return[3,12];i=!0,p.label=9;case 9:return p.trys.push([9,,11,12]),[4,u.setRemoteDescription(n)];case 10:return p.sent(),[3,12];case 11:return i=!1,[7];case 12:return[3,14];case 13:return l=p.sent(),null===(d=o.error)||void 0===d||d.call(o,l),[3,14];case 14:return[2]}}))}))()},sendData:function(e){return s.send(e)},destroy:function(){null==s||s.close(),u.close(),c=!1,i=!1},setHandlers:function(e){return Object.assign(o,e)},offerPromise:e?new Promise((function(e){return o.signal=function(n){n.type===pe&&e(n)}})):Promise.resolve(),addStream:function(e){return e.getTracks().forEach((function(n){return u.addTrack(n,e)}))},removeStream:function(e){return u.getSenders().filter((function(n){return e.getTracks().includes(n.track)})).forEach((function(e){return u.removeTrack(e)}))},addTrack:function(e,n){return u.addTrack(e,n)},removeTrack:function(e){var n=u.getSenders().find((function(n){return n.track===e}));n&&u.removeTrack(n)},replaceTrack:function(e,n){var r=u.getSenders().find((function(n){return n.track===e}));if(r)return r.replaceTrack(n)}}},ye=(0,j.default)(x(3,(function(e,n){return"stun:stun".concat(n||"",".l.google.com:19302")}))).concat(["stun:stun.cloudflare.com:3478"]).map((function(e){return{urls:e}})),he=Object.getPrototypeOf(Uint8Array),me=16369,ge=255,be="bufferedamountlow",we=function(e){return"@_"+e},_e={},ke={},Pe={},Te={},Ae={},Se={},Ee={},Le={},De=function(){var e=(0,D.default)((function(e){var n;return(0,R.__generator)(this,(function(r){switch(r.label){case 0:return ke[e]?[2,ke[e]]:[4,se(e)];case 1:return n=r.sent().slice(0,20),[2,(ke[e]=n,Pe[n]=e,n)]}}))}));return function(n){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,D.default)((function(e,n,r){var t,a;return(0,R.__generator)(this,(function(u){switch(u.label){case 0:return t=e.send,a={action:"announce"},[4,De(n)];case 1:return[2,t.apply(e,[ee.apply(void 0,[I.default.apply(void 0,[(a.info_hash=u.sent(),a.peer_id=B,a),r])])])]}}))}));return function(n,r,t){return e.apply(this,arguments)}}(),Ce=function(e,n,r){return console.warn("".concat(M,": torrent tracker ").concat(r?"failure":"warning"," from ").concat(e," - ").concat(n))},Ue=function(e){var n,r,t,a,u=e.init,o=e.subscribe,c=e.announce,i={},_=!1;return function(e,k,P){var T,A,S=e.appId;if(null===(A=i[S])||void 0===A?void 0:A[k])return i[S][k];var E={},L={},H=Z(M,S,k),J=se(H),q=se(Z(H,B)),V=function(){var e=(0,D.default)((function(e,n,r){var t,a,u;return(0,R.__generator)(this,(function(o){switch(o.label){case 0:return a=(t=crypto.subtle).importKey,u=["raw"],[4,crypto.subtle.digest({name:"SHA-256"},X("".concat(e,":").concat(n,":").concat(r)))];case 1:return[2,a.apply(t,u.concat([o.sent(),{name:ce},!1,["encrypt","decrypt"]]))]}}))}));return function(n,r,t){return e.apply(this,arguments)}}()(e.password||"",S,k),$=function(e){return function(){var n=(0,D.default)((function(n){var r;return(0,R.__generator)(this,(function(t){switch(t.label){case 0:return r={type:n.type},[4,e(V,n.sdp)];case 1:return[2,(r.sdp=t.sent(),r)]}}))}));return function(e){return n.apply(this,arguments)}}()},re=$(fe),te=$(le),ae=function(){return ve(!0,e)},ie=function(e,n,r){var t;L[n]?L[n]!==e&&e.destroy():(L[n]=e,Se(e,n),null===(t=E[n])||void 0===t||t.forEach((function(e,n){n!==r&&e.destroy()})),delete E[n])},de=function(e,n){L[n]===e&&delete L[n]},pe=function(e){return(T=r).push.apply(T,(0,j.default)(x(e,ae))),N(r.splice(0,e).map((function(e){return e.offerPromise.then(te).then((function(n){return{peer:e,offer:n}}))})))},ye=function(n,r){return null==P?void 0:P({error:"incorrect password (".concat(e.password,") when decrypting ").concat(r),appId:S,peerId:n,roomId:k})},_e=function(n){return function(){var r=(0,D.default)((function(r,t,a){var u,o,c,i,s,l,f,d,p,v,y,h,b,w,_,k,P,T,A,S,D,I,C,j,O,M;return(0,R.__generator)(this,(function(R){switch(R.label){case 0:return[4,N([J,q])];case 1:if(u=U.default.apply(void 0,[R.sent(),2]),o=u[0],c=u[1],r!==o&&r!==c)return[2];if(i="string"==typeof t?ne(t):t,s=i.peerId,l=i.offer,f=i.answer,d=i.peer,s===B||L[s])return[3,16];if(s&&!l&&!f)return[3,14];if(!l)return[3,8];if((null===(p=E[s])||void 0===p?void 0:p[n])&&B>s)return[2];(v=ve(!1,e)).setHandlers({connect:function(){return ie(v,s,n)},close:function(){return de(v,s)}}),R.label=2;case 2:return R.trys.push([2,4,,5]),[4,re(l)];case 3:return y=R.sent(),[3,5];case 4:return R.sent(),[2,void ye(s,"offer")];case 5:return v.isDead?[2]:[4,N([se(Z(H,s)),v.signal(y)])];case 6:return h=U.default.apply(void 0,[R.sent(),2]),b=h[0],w=h[1],_=[b],k={peerId:B},[4,te(w)];case 7:return a.apply(void 0,_.concat([ee.apply(void 0,[(k.answer=R.sent(),k)])])),[3,13];case 8:if(!f)return[3,13];R.label=9;case 9:return R.trys.push([9,11,,12]),[4,re(f)];case 10:return P=R.sent(),[3,12];case 11:return R.sent(),[2,void ye(s,"answer")];case 12:d?(d.setHandlers({connect:function(){return ie(d,s,n)},close:function(){return de(d,s)}}),d.signal(P)):(A=null===(T=E[s])||void 0===T?void 0:T[n])&&!A.isDead&&A.signal(P),R.label=13;case 13:return[3,16];case 14:return(null===(S=E[s])||void 0===S?void 0:S[n])?[2]:[4,N([pe(1),se(Z(H,s))])];case 15:D=U.default.apply(void 0,[R.sent(),2]),I=(0,U.default)(D[0],1),C=I[0],j=C.peer,O=C.offer,M=D[1],(m=E)[g=s]||(m[g]=[]),E[s][n]=j,setTimeout((function(){return function(e,n){var r;if(!L[e]){var t=null===(r=E[e])||void 0===r?void 0:r[n];t&&(delete E[e][n],t.destroy())}}(s,n)}),.9*Pe[n]),j.setHandlers({connect:function(){return ie(j,s,n)},close:function(){return de(j,s)}}),a(M,ee({peerId:B,offer:O})),R.label=16;case 16:return[2]}}))}));return function(e,n,t){return r.apply(this,arguments)}}()};if(!e)throw Q("requires a config map as the first argument");if(!S&&!e.firebaseApp)throw Q("config map is missing appId field");if(!k)throw Q("roomId argument required");if(!_){var ke=u(e);r=x(20,ae),n=Array.isArray(ke)?ke:[ke],_=!0,t=setInterval((function(){return r=r.filter((function(e){var n=Date.now()-e.created<57333;return n||e.destroy(),n}))}),59052.99),a=e.manualRelayReconnection?K:function(){if(F){var e=new AbortController;return addEventListener("online",oe,{signal:e.signal}),addEventListener("offline",ue,{signal:e.signal}),function(){return e.abort()}}return K}()}var Pe=n.map((function(){return 5333})),Te=[],Ae=n.map(function(){var e=(0,D.default)((function(e,n){var r;return(0,R.__generator)(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return r=[t.sent()],[4,J];case 2:return r=r.concat(t.sent()),[4,q];case 3:return[2,o.apply(void 0,r.concat([t.sent(),_e(n),pe]))]}}))}));return function(n,r){return e.apply(this,arguments)}}());N([J,q]).then((function(e){var r=(0,U.default)(e,2),t=r[0],a=r[1],u=function(){var e=(0,D.default)((function(e,n){var r;return(0,R.__generator)(this,(function(o){switch(o.label){case 0:return[4,c(e,t,a)];case 1:return"number"==typeof(r=o.sent())&&(Pe[n]=r),Te[n]=setTimeout((function(){return u(e,n)}),Pe[n]),[2]}}))}));return function(n,r){return e.apply(this,arguments)}}();Ae.forEach(function(){var e=(0,D.default)((function(e,r){return(0,R.__generator)(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return t.sent(),[4,n[r]];case 2:return u.apply(void 0,[t.sent(),r]),[2]}}))}));return function(n,r){return e.apply(this,arguments)}}())}));var Se=K;return(b=i)[w=S]||(b[w]={}),i[S][k]=function(e,n,r){var t={},a={},u={},o={},c={},i={},m={},g={onPeerJoin:K,onPeerLeave:K,onPeerStream:K,onPeerTrack:K},b=function(e,n){return(e?Array.isArray(e)?e:[e]:z(t)).flatMap((function(e){var r=t[e];return r?n(e,r):(console.warn("".concat(M,": no peer with id ").concat(e," found")),[])}))},w=function(e){t[e]&&(t[e].destroy(),delete t[e],delete o[e],delete c[e],g.onPeerLeave(e),n(e))},_=function(e){if(a[e])return u[e];if(!e)throw Q("action type argument is required");var n=X(e);if(n.byteLength>12)throw Q('action type string "'.concat(e,'" (').concat(n.byteLength,"b) exceeds byte limit (12). Hint: choose a shorter name."));var r=new Uint8Array(12);r.set(n);var o=0;return a[e]={onComplete:K,onProgress:K,setOnComplete:function(n){return a[e]=(0,C.default)((0,I.default)({},a[e]),{onComplete:n})},setOnProgress:function(n){return a[e]=(0,C.default)((0,I.default)({},a[e]),{onProgress:n})},send:function(e,n,a,u){return(0,D.default)((function(){var c,i,s,l,f,d,p,v,y,h,m;return(0,R.__generator)(this,(function(g){switch(g.label){case 0:if(a&&"object"!=typeof a)throw Q("action meta argument must be an object");if("undefined"===(c=void 0===e?"undefined":(0,O.default)(e)))throw Q("action data cannot be undefined");if(i="string"!==c,s=e instanceof Blob,l=s||e instanceof ArrayBuffer||e instanceof he,a&&!l)throw Q("action meta argument can only be used with binary data");return l?(h=Uint8Array.bind,s?[4,e.arrayBuffer()]:[3,2]):[3,4];case 1:return m=g.sent(),[3,3];case 2:m=e,g.label=3;case 3:return y=new(h.apply(Uint8Array,[void 0,m])),[3,5];case 4:y=X(i?ee(e):e),g.label=5;case 5:return f=y,d=a?X(ee(a)):null,p=Math.ceil(f.byteLength/me)+(a?1:0)||1,v=x(p,(function(e,n){var t=n===p-1,u=a&&0===n,c=new Uint8Array(15+(u?d.byteLength:t?f.byteLength-me*(p-(a?2:1)):me));return c.set(r),c.set([o],12),c.set([t|u<<1|l<<2|i<<3],13),c.set([Math.round((n+1)/p*ge)],14),c.set(a?u?d:f.subarray((n-1)*me,n*me):f.subarray(n*me,(n+1)*me),15),c})),[2,(o=o+1&ge,N(b(n,function(){var e=(0,D.default)((function(e,n){var r,o,c;return(0,R.__generator)(this,(function(i){switch(i.label){case 0:r=n.channel,o=0,i.label=1;case 1:return o<p?(c=v[o],r.bufferedAmount>r.bufferedAmountLowThreshold?[4,new Promise((function(e){var n=function(){r.removeEventListener(be,n),e()};r.addEventListener(be,n)}))]:[3,3]):[3,5];case 2:i.sent(),i.label=3;case 3:if(!t[e])return[3,5];n.sendData(c),o++,null==u||u(c[14]/ge,e,a),i.label=4;case 4:return[3,1];case 5:return[2]}}))}));return function(n,r){return e.apply(this,arguments)}}())))]}}))}))()}},(s=u)[l=e]||(s[l]=[a[e].send,a[e].setOnComplete,a[e].setOnProgress])},k=function(){var e=(0,D.default)((function(){return(0,R.__generator)(this,(function(e){switch(e.label){case 0:return[4,ae("")];case 1:return e.sent(),[4,new Promise((function(e){return setTimeout(e,99)}))];case 2:return e.sent(),G(t).forEach((function(e){var n=(0,U.default)(e,2),r=n[0];n[1].destroy(),delete t[r]})),r(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),P=(0,U.default)(_(we("ping")),2),T=P[0],A=P[1],S=(0,U.default)(_(we("pong")),2),E=S[0],L=S[1],j=(0,U.default)(_(we("signal")),2),H=j[0],J=j[1],q=(0,U.default)(_(we("stream")),2),B=q[0],V=q[1],$=(0,U.default)(_(we("track")),2),Z=$[0],re=$[1],te=(0,U.default)(_(we("leave")),2),ae=te[0],ue=te[1];return e((function(e,n){t[n]||(t[n]=e,e.setHandlers({data:function(e){return function(e,n){var r=new Uint8Array(n),t=Y(r.subarray(0,12)).replaceAll("\0",""),u=(0,U.default)(r.subarray(12,13),1)[0],c=(0,U.default)(r.subarray(13,14),1)[0],i=(0,U.default)(r.subarray(14,15),1)[0],s=r.subarray(15),l=!!(1&c),m=!!(2&c),g=!!(4&c),b=!!(8&c);if(a[t]){(f=o)[d=e]||(f[d]={}),(p=o[e])[v=t]||(p[v]={});var w=(y=o[e][t])[h=u]||(y[h]={chunks:[]});if(m?w.meta=ne(Y(s)):w.chunks.push(s),a[t].onProgress(i/ge,e,w.meta),l){var _=new Uint8Array(w.chunks.reduce((function(e,n){return e+n.byteLength}),0));if(w.chunks.reduce((function(e,n){return _.set(n,e),e+n.byteLength}),0),delete o[e][t][u],g)a[t].onComplete(_,e,w.meta);else{var k=Y(_);a[t].onComplete(b?ne(k):k,e)}}}else console.warn("".concat(M,": received message with unregistered type (").concat(t,")"))}(n,e)},stream:function(e){g.onPeerStream(e,n,i[n]),delete i[n]},track:function(e,r){g.onPeerTrack(e,r,n,m[n]),delete m[n]},signal:function(e){return H(e,n)},close:function(){return w(n)},error:function(e){console.error(e),w(n)}}),g.onPeerJoin(n))})),A((function(e,n){return E("",n)})),L((function(e,n){var r;null===(r=c[n])||void 0===r||r.call(c),delete c[n]})),J((function(e,n){var r;return null===(r=t[n])||void 0===r?void 0:r.signal(e)})),V((function(e,n){return i[n]=e})),re((function(e,n){return m[n]=e})),ue((function(e,n){return w(n)})),F&&addEventListener("beforeunload",k),{makeAction:_,leave:k,ping:function(e){return(0,D.default)((function(){var n;return(0,R.__generator)(this,(function(r){switch(r.label){case 0:if(!e)throw Q("ping() must be called with target peer ID");return n=Date.now(),T("",e),[4,new Promise((function(n){return c[e]=n}))];case 1:return[2,(r.sent(),Date.now()-n)]}}))}))()},getPeers:function(){return W(G(t).map((function(e){var n=(0,U.default)(e,2);return[n[0],n[1].connection]})))},addStream:function(e,n,r){return b(n,function(){var n=(0,D.default)((function(n,t){return(0,R.__generator)(this,(function(a){switch(a.label){case 0:return r?[4,B(r,n)]:[3,2];case 1:a.sent(),a.label=2;case 2:return t.addStream(e),[2]}}))}));return function(e,r){return n.apply(this,arguments)}}())},removeStream:function(e,n){return b(n,(function(n,r){return r.removeStream(e)}))},addTrack:function(e,n,r,t){return b(r,function(){var r=(0,D.default)((function(r,a){return(0,R.__generator)(this,(function(u){switch(u.label){case 0:return t?[4,Z(t,r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return a.addTrack(e,n),[2]}}))}));return function(e,n){return r.apply(this,arguments)}}())},removeTrack:function(e,n){return b(n,(function(n,r){return r.removeTrack(e)}))},replaceTrack:function(e,n,r,t){return b(r,function(){var r=(0,D.default)((function(r,a){return(0,R.__generator)(this,(function(u){switch(u.label){case 0:return t?[4,Z(t,r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return a.replaceTrack(e,n),[2]}}))}));return function(e,n){return r.apply(this,arguments)}}())},onPeerJoin:function(e){return g.onPeerJoin=e},onPeerLeave:function(e){return g.onPeerLeave=e},onPeerStream:function(e){return g.onPeerStream=e},onPeerTrack:function(e){return g.onPeerTrack=e}}}((function(e){return Se=e}),(function(e){return delete L[e]}),(function(){delete i[S][k],Te.forEach(clearTimeout),Ae.forEach(function(){var e=(0,D.default)((function(e){return(0,R.__generator)(this,(function(n){switch(n.label){case 0:return[4,e];case 1:return[2,n.sent()()]}}))}));return function(n){return e.apply(this,arguments)}}()),clearInterval(t),a(),_=!1}))}}({init:function(e){return function(e,n,r){return(e.relayUrls||n).slice(0,e.relayUrls?e.relayUrls.length:e.relayRedundancy||3)}(e,je).map((function(e){var n=function(e,n){var r={},t=function(){var a=new WebSocket(e);a.onclose=function(){var n;te?te.then(t):(null!==(n=(_=re)[k=e])&&void 0!==n||(_[k]=3333),setTimeout(t,re[e]),re[e]*=2)},a.onmessage=function(e){return n(e.data)},r.socket=a,r.url=a.url,r.ready=new Promise((function(n){return a.onopen=function(){n(r),re[e]=3333}})),r.send=function(e){1===a.readyState&&a.send(e)}};return t(),r}(e,(function(e){var n=ne(e),t=n["failure reason"],a=n["warning message"],u=n.interval,o=Pe[n.info_hash];if(t)Ce(r,t,!0);else{var c,i;if(a&&Ce(r,a),u&&1e3*u>Se[r]&&Ae[r][o]){var s=Math.min(1e3*u,120333);clearInterval(Te[r][o]),Se[r]=s,Te[r][o]=setInterval(Ae[r][o],s)}Ee[n.offer_id]||(n.offer||n.answer)&&(Ee[n.offer_id]=!0,null===(i=(c=Le[r])[o])||void 0===i||i.call(c,n))}})),r=n.url;return _e[r]=n,Le[r]={},n.ready}))},subscribe:function(e,n,r,t,a){var u=e.url,o=function(){var r=(0,D.default)((function(){var r;return(0,R.__generator)(this,(function(u){switch(u.label){case 0:return[4,a(10)];case 1:return r=W.apply(void 0,[u.sent().map((function(e){return[q(20),e]}))]),Le[e.url][n]=function(a){if(a.offer)t(n,{offer:a.offer,peerId:a.peer_id},(function(r,t){return Ie(e,n,{answer:ne(t).answer,offer_id:a.offer_id,to_peer_id:a.peer_id})}));else if(a.answer){var u=r[a.offer_id];u&&t(n,{answer:a.answer,peerId:a.peer_id,peer:u.peer})}},Ie(e,n,{numwant:10,offers:G(r).map((function(e){var n=(0,U.default)(e,2);return{offer_id:n[0],offer:n[1].offer}}))}),[2]}}))}));return function(){return r.apply(this,arguments)}}();return Se[u]=33333,(P=Ae)[T=u]||(P[T]={}),Ae[u][n]=o,(A=Te)[S=u]||(A[S]={}),Te[u][n]=setInterval(o,Se[u]),o(),function(){clearInterval(Te[u][n]),delete Le[u][n],delete Ae[u][n]}},announce:function(e){return Se[e.url]}}),je=(L=_e,["tracker.webtorrent.dev","tracker.openwebtorrent.com","tracker.btorrent.xyz","tracker.files.fm:7073/announce"].map((function(e){return"wss://"+e})))}))}();