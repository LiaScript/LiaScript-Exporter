!function(){function t(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire55a5;e.register("58dpJ",(function(n,i){t(n.exports,"Connector",(function(){return h}));var o=e("9Klpk"),r=e("3bWnf"),s=e("kb0qF"),a=e("5ENmm"),c=e("6Wo7Q"),u=e("bWNdT"),l=e("knzCS"),d=e("cRTHJ"),f=e("jxbaN"),h=function(t){"use strict";(0,s.default)(n,t);var e=(0,u.default)(n);function n(){var t;if((0,o.default)(this,n),(t=e.call(this)).active=!1,t.db={quiz:[],survey:[],task:[]},t.id={quiz:[],survey:[],task:[]},console.warn("Hello, this is LiaScript from within a SCORM 1.2 package. You should definitely try out the SCORM 2004 exporter, since this one cannot be used to store states or any kind of progress. The only thing that is stores, is currently the user location...\n\nIF YOU ARE AN ELABORATE AND EXPERIENCED SCORM DEVELOPER?\n========================================================\n\nAnd you want to help us, to extend this service, please contact us via LiaScript@web.de\n\nHave fun ;-)"),window.top&&window.top.API){v("successfully opened API"),t.scorm=window.top.API,v("LMSInitialize",t.scorm.LMSInitialize("")),v("loading quizzes ...");try{t.db.quiz=window.config_.quiz||[[]],v(" ... done")}catch(t){y("... failed",t)}v("loading surveys ...");try{t.db.survey=window.config_.survey||[[]],v(" ... done")}catch(t){y("... failed",t)}v("loading tasks ...");try{t.db.task=window.config_.task||[[]],v(" ... done")}catch(t){y("... failed",t)}t.init()}return t}return(0,r.default)(n,[{key:"init",value:function(){if(this.scorm){var t=this.scorm.LMSGetValue("cmi.core.lesson_mode")||"unknown";this.active="normal"===t||"unknown"===t,y('Running in "'+t+'" mode, results will '+(this.active?"":"NOT")+" be stored!"),v("open location ..."),this.location=f.jsonParse(this.scorm.LMSGetValue("cmi.core.lesson_location")),v("... ",this.location),null===this.location&&this.slide(0);var e=0;e=this.initSecond("quiz",e),e=this.initSecond("survey",e),e=this.initSecond("task",e),window.SCORE=0,this.score()}}},{key:"initSecond",value:function(t,e){for(var n=0;n<this.db[t].length;n++){this.id[t].push([]);for(var i=0;i<this.db[t][n].length;i++){var o=this.getInteraction(e);o&&(this.db[t][n][i]=o),this.id[t][n].push(e),e++}}return e}},{key:"score",value:function(){var t;if(this.active&&this.score){for(var e=0,n=0,i=0,o=0,r=0;r<this.db.quiz.length;r++)for(var s=0;s<this.db.quiz[r].length;s++)switch(e+=o=this.db.quiz[r][s].score,this.db.quiz[r][s].solved){case 1:n+=o;case-1:i+=o}var c,u,l,d,h=0===n?0:n/e;this.write("cmi.core.score.min","0"),this.write("cmi.core.score.max","100"),this.write("cmi.core.score.raw",(c=(100*h).toFixed(4),l=(u=(0,a.default)(c.toString().split("."),2))[0],d=u[1],"".concat(l,".").concat(d.padEnd(10,"0"))));var v=f.jsonParse((null===(t=this.scorm)||void 0===t?void 0:t.LMSGetValue("cmi.student_data.mastery_score"))||"null");null==v?this.write("cmi.core.lesson_status","not attempted"):h>=v/100?this.write("cmi.core.lesson_status","passed"):i+n===e?this.write("cmi.core.lesson_status","failed"):this.write("cmi.core.lesson_status","incomplete"),window.SCORE=h}}},{key:"open",value:function(t,e,n){if(null!==this.location){var i=this.location;setTimeout((function(){window.LIA.goto(i)}),500)}}},{key:"slide",value:function(t){this.location=t,this.scorm&&this.active&&(this.scorm.LMSSetValue("cmi.core.lesson_location",JSON.stringify(t)),this.scorm.LMSCommit(""))}},{key:"countInteractions",value:function(){return this.scorm&&parseInt(this.scorm.LMSGetValue("cmi.objectives._count"))||null}},{key:"setInteraction",value:function(t,e){return e.length<=255?(this.write("cmi.objectives.".concat(t,".id"),f.encodeJSON(e)),!0):(this.write("cmi.objectives.".concat(t,".id"),"Objective could not be stored, content exceeds 256Bytes!"),!1)}},{key:"initSettings",value:function(t){return d.Settings.init(t,!1,this.setSettings)}},{key:"setSettings",value:function(t){this.write("cmi.suspend_data",JSON.stringify(t))}},{key:"getSettings",value:function(){var t="";try{var e;t=(null===(e=this.scorm)||void 0===e?void 0:e.LMSGetValue("cmi.suspend_data"))||null}catch(t){y("cannot read settings from cmi.suspend_data")}var n=null;if("string"==typeof t){try{n=JSON.parse(t)}catch(t){y("getSettings =>",t)}n||(n=d.Settings.data),window.innerWidth<=768&&(n.table_of_contents=!1)}return n}},{key:"write",value:function(t,e){this.scorm?(this.scorm.LMSSetValue(t,e),this.scorm.LMSCommit("")):y("could not write",t,e)}},{key:"getInteraction",value:function(t){if(!this.active)return null;var e;try{if(this.scorm&&(e=this.scorm.LMSGetValue("cmi.objectives.".concat(t,".id"))))return f.decodeJSON(e)}catch(n){y("getInteraction =>",n,"cmi.objectives.".concat(t,".id"),e)}return null}},{key:"updateInteraction",value:function(t,e){this.write("cmi.objectives.".concat(t,".id"),f.encodeJSON(e))}},{key:"load",value:function(t){if(this.active)switch(t.table){case"quiz":case"survey":case"task":return v("loading ",t.table,t.id,this.db.task[t.id]),this.db[t.table][t.id]}}},{key:"store",value:function(t){if(this.active)switch(y("store",t),t.table){case"quiz":this.storeHelper(t),this.score();break;case"survey":case"task":this.storeHelper(t)}}},{key:"storeHelper",value:function(t){for(var e=0;e<this.db[t.table][t.id].length;e++)f.neq(t.data[e],this.db[t.table][t.id][e])&&(this.updateInteraction(this.id[t.table][t.id][e],t.data[e]),this.db[t.table][t.id][e]=t.data[e],"quiz"==t.table&&this.updateQuiz(this.id[t.table][t.id][e],t.data[e]))}},{key:"updateQuiz",value:function(t,e){if(this.active)switch(e.solved){case 0:e.trial>0&&this.write("cmi.objectives.".concat(t,".status"),"failed");break;case 1:this.write("cmi.objectives.".concat(t,".status"),"completed");break;case-1:this.write("cmi.objectives.".concat(t,".status"),"incomplete")}}}]),n}(l.Connector);function v(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i;(i=console).log.apply(i,["SCORM1.2: "].concat((0,c.default)(e)))}function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i;(i=console).log.apply(i,["SCORM1.2: "].concat((0,c.default)(e)))}})),e.register("knzCS",(function(n,i){t(n.exports,"Connector",(function(){return l}));var o=e("hnmIs"),r=e("9Klpk"),s=e("3bWnf"),a=e("32Euv"),c=e("87lFe"),u=e("cRTHJ"),l=function(){"use strict";function t(){(0,r.default)(this,t)}return(0,s.default)(t,[{key:"hasIndex",value:function(){return!1}},{key:"storage",value:function(){return new c.LiaStorage}},{key:"initSettings",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.Settings.init(t,e,this.setSettings)}},{key:"setSettings",value:function(t){try{localStorage.setItem(u.Settings.PORT,JSON.stringify(t))}catch(t){console.warn("cannot write to localStorage")}}},{key:"getSettings",value:function(){var t="";try{t=localStorage.getItem(u.Settings.PORT)}catch(t){console.warn("cannot write to localStorage")}var e=null;if("string"==typeof t){try{e=JSON.parse(t)}catch(t){console.warn("getSettings =>",t)}e||(e=u.Settings.data),window.innerWidth<=768&&(e.table_of_contents=!1)}return e}},{key:"open",value:function(t,e,n){}},{key:"load",value:function(t){}},{key:"store",value:function(t){}},{key:"update",value:function(t,e){}},{key:"slide",value:function(t){}},{key:"getIndex",value:function(){}},{key:"deleteFromIndex",value:function(t){}},{key:"storeToIndex",value:function(t){}},{key:"restoreFromIndex",value:function(t,e){}},{key:"reset",value:function(t,e){this.initSettings(null,!0)}},{key:"getFromIndex",value:function(t){return(0,o.default)((function(){return(0,a.__generator)(this,(function(t){return[2,null]}))}))()}}]),t}()})),e.register("87lFe",(function(n,i){t(n.exports,"LiaStorage",(function(){return a}));var o=e("9Klpk"),r=e("3bWnf"),s=e("5ENmm"),a=function(){"use strict";function t(){(0,o.default)(this,t)}return(0,r.default)(t,[{key:"getItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"==typeof t&&(t=[t]);for(var e={},n=0;n<t.length;n++){var i=localStorage.getItem(t[n]);e[t[n]]=i?JSON.parse(i):i}return e}},{key:"setItems",value:function(t){this._setLocal(t)}},{key:"_setLocal",value:function(t){var e=!0,n=!1,i=void 0;if("object"==typeof t)try{for(var o,r=Object.entries(t)[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=(0,s.default)(o.value,2),c=a[0],u=a[1];localStorage.setItem(c,JSON.stringify(u))}}catch(t){n=!0,i=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}}}]),t}()})),e.register("jxbaN",(function(n,i){t(n.exports,"encodeJSON",(function(){return c})),t(n.exports,"decodeJSON",(function(){return u})),t(n.exports,"jsonParse",(function(){return l})),t(n.exports,"neq",(function(){return d}));var o=e("5ENmm"),r={SingleChoice:"sc",MultipleChoice:"mc",Text:"tx",Select:"st",Matrix:"mx",Generic:"gn",error_msg:"err"},s=Object.entries(r).reduce((function(t,e){var n=(0,o.default)(e,2),i=n[0];return t[n[1]]=i,t}),{});function a(t,e){if("object"!=typeof t||null===t)return t;if(Array.isArray(t))return t.map((function(t){return a(t,e)}));var n={},i=!0,r=!1,s=void 0;try{for(var c,u=Object.entries(t)[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=(0,o.default)(c.value,2),d=l[0],f=l[1];n[e[d]||d]=a(f,e)}}catch(t){r=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(r)throw s}}return n}function c(t){return JSON.stringify(a(t,r))}function u(t){return a(JSON.parse(t),s)}function l(t){try{return JSON.parse(t)}catch(t){}return null}function d(t,e){return JSON.stringify(t)!=JSON.stringify(e)}}))}();
