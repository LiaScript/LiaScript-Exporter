!function(){var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire55a5;e.register("gEoIA",(function(n,t){var i,o,c,s;i=n.exports,o="Sync",c=function(){return p},Object.defineProperty(i,o,{get:c,set:s,enumerable:!0,configurable:!0});var r=e("aPYZr"),a=e("3mpD3"),d=e("4JAgF"),u=e("9HoHC"),f=e("8WkQI"),l=e("aPvD2"),w=e("aBvOn"),v=e("gNsil"),J=e("8rJSp"),E=e("cDTRq"),h=e("bhxid"),p=function(e){"use strict";(0,v.default)(t,e);var n=(0,J.default)(t);function t(){var e;return(0,d.default)(this,t),e=n.apply(this,arguments),(0,f.default)((0,r.default)(e),"users",{}),e}return(0,u.default)(t,[{key:"destroy",value:function(){var e;null===(e=this.connection)||void 0===e||e.disconnect(),(0,l.default)((0,w.default)(t.prototype),"destroy",this).call(this)}},{key:"connect",value:function(e){var n=this,i=this;return(0,a.default)((function(){return(0,E.__generator)(this,(function(o){return(0,l.default)((0,w.default)(t.prototype),"connect",n).call(i,e),i.domain=e.config||"meet.jit.si",window.JitsiMeetJS?i.init(!0):i.load(["https://meet.jit.si/libs/lib-jitsi-meet.min.js"],i),[2]}))}))()}},{key:"init",value:function(e,n){var t=this.uniqueID();if(e&&window.JitsiMeetJS&&t){window.JitsiMeetJS.init(),window.JitsiMeetJS.setLogLevel(window.JitsiMeetJS.logLevels.ERROR),this.connection=new window.JitsiMeetJS.JitsiConnection(null,null,{hosts:{domain:this.domain,muc:"conference.".concat(this.domain),focus:"focus.".concat(this.domain)},configOverwrite:{openBridgeChannel:!0},serviceUrl:"https://".concat(this.domain,"/http-bind?room=").concat(btoa(t)),clientNode:"http://jitsi.org/jitsimeet"});var i=this;this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_ESTABLISHED,(function(){i.conferenceRoom=i.connection.initJitsiConference(btoa(t).toLowerCase(),{configOverwrite:{openBridgeChannel:!0},enableLayerSuspension:!0,p2p:{enabled:!1}}),i.conferenceRoom.setDisplayName(i.token),i.conferenceRoom.on(window.JitsiMeetJS.events.conference.CONFERENCE_JOINED,(function(){i.sendConnect()})),i.conferenceRoom.on(window.JitsiMeetJS.errors.conference.PASSWORD_REQUIRED,(function(){i.sendDisconnectError("password required")})),i.conferenceRoom.on(window.JitsiMeetJS.events.conference.USER_JOINED,(function(e){i.users[e]=null})),i.conferenceRoom.on(window.JitsiMeetJS.events.conference.USER_LEFT,(function(e){var n=i.users[e];n&&i.db.removePeer(n),delete i.users[e]})),i.conferenceRoom.on(window.JitsiMeetJS.events.conference.ENDPOINT_MESSAGE_RECEIVED,(function(e,n){i.users[e.getId()]=e.getDisplayName(),i.applyUpdate(h.base64_to_unit8(n))})),i.conferenceRoom.join()})),this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_FAILED,(function(e){i.sendDisconnectError("Connection failed"+e)})),this.connection.addEventListener(window.JitsiMeetJS.events.connection.CONNECTION_DISCONNECTED,(function(e){i.disconnect()})),this.connection.connect()}}},{key:"broadcast",value:function(e){try{var n;null===(n=this.conferenceRoom)||void 0===n||n.sendEndpointMessage("",h.uint8_to_base64(e))}catch(e){}}}]),t}(h.Sync)}))}();